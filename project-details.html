<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Base Styles */
        :root {
            --bg-color: #f9f9f9;
            --text-color: #333;
            --heading-color: #2c3e50;
            --meta-color: #7f8c8d;
            --card-bg: white;
            --card-shadow: 0 2px 10px rgba(0,0,0,0.05);
            --border-color: #eee;
            --button-bg: #2c3e50;
            --button-hover: #1a252f;
            --mobile-breakpoint: 768px;
        }

        .dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --heading-color: #f5f5f5;
            --meta-color: #b0b0b0;
            --card-bg: #2d2d2d;
            --card-shadow: 0 2px 10px rgba(0,0,0,0.2);
            --border-color: #444;
            --button-bg: #4a6fa5;
            --button-hover: #3a5a8f;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
        }
        
        /* Project Detail Header */
        .project-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .project-header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            color: var(--heading-color);
        }
        
        .project-header .project-meta {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            color: var(--meta-color);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        /* Project Content */
        .project-content {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .project-main {
            width: 100%;
            order: 1;
        }
        
        .project-sidebar {
            width: 100%;
            order: 2;
        }
        
        /* Project Gallery */
        .project-gallery {
            margin-bottom: 20px;
        }
        
        .main-image {
            width: 100%;
            height: auto;
            max-height: 300px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 10px;
            box-shadow: var(--card-shadow);
        }
        
        .thumbnail-container {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 8px;
            -webkit-overflow-scrolling: touch;
        }
        
        .thumbnail {
            width: 70px;
            height: 50px;
            object-fit: cover;
            border-radius: 3px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .thumbnail:hover {
            transform: scale(1.05);
        }
        
        /* Project Description */
        .project-description h2 {
            color: var(--heading-color);
            font-size: 1.4rem;
            margin-top: 20px;
            margin-bottom: 12px;
        }
        
        .project-description p {
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        
        /* Project Details */
        .project-details {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 6px;
            box-shadow: var(--card-shadow);
            margin-bottom: 20px;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        
        .project-details h2 {
            font-size: 1.4rem;
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--heading-color);
        }
        
        .detail-item {
            margin-bottom: 12px;
        }
        
        .detail-item h3 {
            margin-bottom: 5px;
            font-size: 1rem;
            color: var(--heading-color);
        }
        
        .detail-item p {
            margin: 0;
            color: var(--meta-color);
            font-size: 0.9rem;
        }
        
        /* Back Button */
        .back-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 15px;
            background: var(--button-bg);
            color: white;
            text-decoration: none;
            border-radius: 4px;
            margin-top: 15px;
            transition: background 0.3s;
            font-size: 0.95rem;
            gap: 8px;
        }
        
        .back-button:hover {
            background: var(--button-hover);
        }
        
        /* Toggle Button */
        .theme-toggle {
            position: fixed;
            bottom: 15px;
            right: 15px;
            background: var(--button-bg);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 100;
            transition: background 0.3s, transform 0.2s;
        }
        
        .theme-toggle:hover {
            background: var(--button-hover);
            transform: scale(1.05);
        }
        
        .theme-toggle i {
            font-size: 1.1rem;
        }
        
        /* Responsive Desktop */
        @media (min-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .project-content {
                flex-direction: row;
                gap: 30px;
            }
            
            .project-main {
                flex: 1 1 70%;
                order: 1;
            }
            
            .project-sidebar {
                flex: 1 1 25%;
                order: 2;
            }
            
            .project-header h1 {
                font-size: 2.2rem;
            }
            
            .main-image {
                max-height: 400px;
            }
            
            .thumbnail {
                width: 80px;
                height: 60px;
            }

            /* Tombol back tetap di project-main di desktop */
            .project-main .back-button {
                display: inline-flex;
            }
            
            .project-sidebar .back-button {
                display: none;
            }
        }

        /* Mobile Styles */
        @media (max-width: 767px) {
            /* Tombol back di project-main disembunyikan di mobile */
            .project-main .back-button {
                display: none;
            }
            
            /* Tombol back ditampilkan di sidebar di mobile */
            .project-sidebar .back-button {
                display: inline-flex;
                width: 100%;
                margin-top: 20px;
            }
        }
        
        /* Very small mobile devices */
        @media (max-width: 400px) {
            .project-header h1 {
                font-size: 1.6rem;
                line-height: 1.3; /* Better for small screens */
            }
            
            .project-header .project-meta {
                flex-direction: column;
                gap: 5px;
                font-size: 0.85rem; /* Slightly smaller text */
            }
            
            .mobile-back-button {
                width: 100%;
                padding: 12px 15px;
                margin-top: 10px;
            }
            
            .project-details {
                padding: 12px; /* Slightly reduced padding */
            }
            
            .main-image {
                max-height: 250px; /* Slightly smaller image */
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion) {
            body, 
            .thumbnail, 
            .theme-toggle,
            .back-button {
                transition: none !important;
                animation: none !important;
            }
            
            .thumbnail:hover {
                transform: none;
            }
            
            /* Enhanced focus styles */
            a:focus,
            button:focus,
            [tabindex="0"]:focus {
                outline: 3px solid var(--button-bg);
                outline-offset: 2px;
            }
            
            /* Visible focus for keyboard users */
            .back-button:focus {
                position: relative;
                z-index: 1;
            }
        }
    </style>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <link rel="shortcut icon" href="assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />
    <link rel="manifest" href="assets/site.webmanifest" />
</head>
<body>
    <div class="container">
        <!-- Project Header -->
        <div class="project-header">
            <h1 id="project-title">Project Title</h1>
            <div class="project-meta">
                <span id="project-category">Automation</span>
                <span id="project-date">June 2023</span>
            </div>
        </div>
        
        <!-- Project Content -->
        <div class="project-content">
            <main class="project-main">
                <!-- Project Gallery -->
                <div class="project-gallery">
                    <img id="main-image" src="" alt="Main Project Image" class="main-image">
                    <div class="thumbnail-container" id="thumbnail-container">
                        <!-- Thumbnails will be added dynamically -->
                    </div>
                </div>
                
                <!-- Project Description -->
                <div class="project-description">
                    <h2>Project Overview</h2>
                    <p id="project-overview">Loading project details...</p>
                    
                    <h2>Technical Details</h2>
                    <p id="technical-details">Loading technical details...</p>
                    
                    <h2>Results</h2>
                    <p id="project-results">Loading results...</p>
                </div>
                
                <!-- Tombol back di desktop -->
                <a href="projects.html" class="back-button desktop-back-button">
                    <i class="fas fa-arrow-left"></i> Back to Projects
                </a>
            </main>
            
            <!-- Project Sidebar -->
            <aside class="project-sidebar">
                <div class="project-details">
                    <h2>Project Details</h2>
                    
                    <div class="detail-item">
                        <h3>Client</h3>
                        <p id="project-client">N/A</p>
                    </div>
                    
                    <div class="detail-item">
                        <h3>Technologies</h3>
                        <p id="project-technologies">Loading...</p>
                    </div>
                    
                    <div class="detail-item">
                        <h3>Duration</h3>
                        <p id="project-duration">N/A</p>
                    </div>
                    
                    <div class="detail-item">
                        <h3>Project Type</h3>
                        <p id="project-type">N/A</p>
                    </div>
                </div>
                <!-- Tombol back di mobile -->
                <a href="projects.html" class="back-button mobile-back-button">
                    <i class="fas fa-arrow-left"></i> Back to Projects
                </a>
            </aside>
        </div>
    </div>

    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
        <i class="fas fa-moon"></i>
    </button>

    <script>
        // Dark Mode/Light Mode Functionality
        function initTheme() {
            // Check localStorage for theme preference
            const savedTheme = localStorage.getItem('theme') || 'light';
            
            // Check if coming from main page with theme preference
            const urlParams = new URLSearchParams(window.location.search);
            const incomingTheme = urlParams.get('theme');
            
            // Prioritize incoming theme from URL if present
            const theme = incomingTheme || savedTheme;
            
            // Apply theme
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
                document.getElementById('themeToggle').setAttribute('aria-label', 'Toggle light mode');
            } else {
                document.body.classList.remove('dark-mode');
                document.getElementById('themeToggle').innerHTML = '<i class="fas fa-moon"></i>';
                document.getElementById('themeToggle').setAttribute('aria-label', 'Toggle dark mode');
            }
            
            // Store theme preference
            localStorage.setItem('theme', theme);
        }
        
        // Toggle theme
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            
            if (body.classList.contains('dark-mode')) {
                body.classList.remove('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                themeToggle.setAttribute('aria-label', 'Toggle dark mode');
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                themeToggle.setAttribute('aria-label', 'Toggle light mode');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // Get project ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = urlParams.get('id');
        
        // Project data - in a real app, this would come from an API or database
        const projects = {
            "1": {
                title: "PLC-Based Automation",
                category: "Industrial Automation",
                date: "March 2023",
                overview: "This project involved designing and implementing a PLC-based control system for an industrial conveyor belt. The system automates the sorting and packaging process, increasing efficiency by 40% and reducing manual labor requirements.",
                technical: "The system uses Siemens S7-1200 PLC with ladder logic programming. It integrates with optical sensors for package detection and pneumatic actuators for sorting. The HMI was developed using WinCC for real-time monitoring.",
                results: "The implemented solution reduced processing time by 35% and decreased error rates from 5% to under 0.5%. The system also features predictive maintenance capabilities through vibration analysis.",
                client: "ABC Manufacturing Co.",
                technologies: "Siemens PLC, WinCC, Ladder Logic, Pneumatics",
                duration: "3 months",
                type: "Industrial Automation",
                mainImage: "assets/projects/automation-main.jpg",
                thumbnails: [
                    "assets/projects/automation-thumb1.jpg",
                    "assets/projects/automation-thumb2.jpg",
                    "assets/projects/automation-thumb3.jpg"
                ]
            },
            "2": {
                title: "Smart Grid Implementation",
                category: "Power Systems",
                date: "January 2023",
                overview: "Implementation of a smart grid voltage monitoring system for a regional power utility. The system provides real-time voltage quality monitoring across 15 substations.",
                technical: "The solution uses IoT sensors with LoRaWAN communication to transmit voltage data to a central SCADA system. Data analytics are performed using Python with custom algorithms to detect anomalies and predict potential issues.",
                results: "The system improved voltage regulation by 22% and reduced outage response time by 65%. It also enabled predictive maintenance, saving an estimated $250,000 annually in maintenance costs.",
                client: "Regional Power Utility",
                technologies: "IoT, LoRaWAN, Python, SCADA, Power Systems",
                duration: "6 months",
                type: "Power Grid Modernization",
                mainImage: "assets/projects/power-main.jpg",
                thumbnails: [
                    "assets/projects/power-thumb1.jpg",
                    "assets/projects/power-thumb2.jpg",
                    "assets/projects/power-thumb3.jpg"
                ]
            }
        };
        
        // Load project data
        function loadProjectDetails() {
            const project = projects[projectId];
            
            if (project) {
                // Update page content
                document.getElementById('project-title').textContent = project.title;
                document.getElementById('project-category').textContent = project.category;
                document.getElementById('project-date').textContent = project.date;
                document.getElementById('project-overview').textContent = project.overview;
                document.getElementById('technical-details').textContent = project.technical;
                document.getElementById('project-results').textContent = project.results;
                document.getElementById('project-client').textContent = project.client;
                document.getElementById('project-technologies').textContent = project.technologies;
                document.getElementById('project-duration').textContent = project.duration;
                document.getElementById('project-type').textContent = project.type;
                
                // Set main image
                const mainImg = document.getElementById('main-image');
                mainImg.src = project.mainImage;
                mainImg.alt = project.title;
                
                // Add thumbnails
                const thumbnailContainer = document.getElementById('thumbnail-container');
                project.thumbnails.forEach(thumb => {
                    const img = document.createElement('img');
                    img.src = thumb;
                    img.alt = project.title + " thumbnail";
                    img.className = "thumbnail";
                    img.onclick = function() {
                        mainImg.src = thumb;
                    };
                    thumbnailContainer.appendChild(img);
                });
            } else {
                document.getElementById('project-title').textContent = "Project Not Found";
            }
        }
        
        // Initialize theme and load project when page loads
        window.onload = function() {
            initTheme();
            loadProjectDetails();
            
            // Add event listener to theme toggle button
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
        };

        // Handle mobile viewport height
        function setViewportHeight() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }

        setViewportHeight();
        window.addEventListener('resize', setViewportHeight);
    </script>
</body>
</html>